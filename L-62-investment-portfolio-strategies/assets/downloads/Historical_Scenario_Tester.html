<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historical Scenario Tester</title>
    <!--
    PURPOSE: Test portfolios through historical market events to understand resilience
    USE: Activity 2 - Historical Scenario Testing (10 minutes)
    -->
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --text: #1f2937;
            --surface: #f9fafb;
        }
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text);
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
        }
        .scenario-section {
            background: var(--surface);
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .scenario-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .scenario-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary);
        }
        .scenario-date {
            background: var(--danger);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
        }
        .scenario-description {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }
        .impact-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .impact-table th {
            background: var(--primary);
            color: white;
            padding: 10px;
            text-align: center;
        }
        .impact-table td {
            border: 1px solid #e5e7eb;
            padding: 10px;
            text-align: center;
        }
        .impact-table tr:nth-child(even) {
            background: white;
        }
        .negative {
            color: var(--danger);
            font-weight: bold;
        }
        .positive {
            color: var(--success);
            font-weight: bold;
        }
        .portfolio-input {
            margin: 15px 0;
        }
        .portfolio-input label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .input-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }
        .input-item {
            text-align: center;
        }
        .input-item input {
            width: 60px;
            padding: 8px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .input-item small {
            display: block;
            font-size: 0.75rem;
            color: #6b7280;
        }
        .result-box {
            background: white;
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
        }
        .result-value {
            font-size: 2.5rem;
            font-weight: bold;
        }
        .result-value.loss {
            color: var(--danger);
        }
        .result-value.gain {
            color: var(--success);
        }
        .analysis-box {
            margin: 15px 0;
        }
        .analysis-box label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .analysis-box textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            min-height: 60px;
            font-family: inherit;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            background: var(--primary);
            color: white;
            margin: 5px;
        }
        .btn:hover {
            background: #4f46e5;
        }
        @media print {
            body { font-size: 11pt; }
        }
    </style>
</head>
<body>
    <h1>ðŸ“‰ Historical Scenario Tester</h1>

    <p>Test your portfolio allocation against historical market crises. Enter your portfolio weights to see how it would have performed during each event.</p>

    <!-- 2008 Financial Crisis -->
    <div class="scenario-section">
        <div class="scenario-header">
            <span class="scenario-title">2008 Financial Crisis</span>
            <span class="scenario-date">Oct 2007 - Mar 2009</span>
        </div>

        <div class="scenario-description">
            <strong>What happened:</strong> Housing bubble burst, major bank failures, global credit freeze. S&P 500 dropped 57% from peak to trough. Worst recession since the Great Depression.
        </div>

        <table class="impact-table">
            <thead>
                <tr>
                    <th>Asset Class</th>
                    <th>Peak-to-Trough Loss</th>
                    <th>Recovery Time</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>US Stocks</td>
                    <td class="negative">-57%</td>
                    <td>4 years</td>
                </tr>
                <tr>
                    <td>Int'l Stocks</td>
                    <td class="negative">-62%</td>
                    <td>5+ years</td>
                </tr>
                <tr>
                    <td>Bonds</td>
                    <td class="positive">+5%</td>
                    <td>N/A</td>
                </tr>
                <tr>
                    <td>Real Estate</td>
                    <td class="negative">-68%</td>
                    <td>6+ years</td>
                </tr>
                <tr>
                    <td>Cash</td>
                    <td class="positive">+2%</td>
                    <td>N/A</td>
                </tr>
            </tbody>
        </table>

        <div class="portfolio-input">
            <label>Your Portfolio Allocation:</label>
            <div class="input-grid">
                <div class="input-item">
                    <input type="number" id="crisis1-stocks" value="50" min="0" max="100">
                    <small>US Stocks %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis1-intl" value="15" min="0" max="100">
                    <small>Int'l %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis1-bonds" value="20" min="0" max="100">
                    <small>Bonds %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis1-real" value="10" min="0" max="100">
                    <small>Real Estate %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis1-cash" value="5" min="0" max="100">
                    <small>Cash %</small>
                </div>
            </div>
        </div>

        <button class="btn" onclick="calculateCrisis(1)">Calculate Portfolio Impact</button>

        <div class="result-box">
            <div>Your Portfolio Loss:</div>
            <div class="result-value loss" id="result1">-___%</div>
            <div>on $100,000 = <strong id="dollar1">$___</strong></div>
        </div>

        <div class="analysis-box">
            <label>How would this impact affect a 25-year-old vs. 60-year-old?</label>
            <textarea placeholder="Consider time to recover, emotional impact, and income needs..."></textarea>
        </div>
    </div>

    <!-- 2020 COVID Crash -->
    <div class="scenario-section">
        <div class="scenario-header">
            <span class="scenario-title">2020 COVID-19 Crash</span>
            <span class="scenario-date">Feb - Mar 2020</span>
        </div>

        <div class="scenario-description">
            <strong>What happened:</strong> Global pandemic triggered fastest market decline in history. S&P 500 dropped 34% in just 23 trading days. Unprecedented government stimulus led to rapid recovery.
        </div>

        <table class="impact-table">
            <thead>
                <tr>
                    <th>Asset Class</th>
                    <th>Peak-to-Trough Loss</th>
                    <th>Recovery Time</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>US Stocks</td>
                    <td class="negative">-34%</td>
                    <td>5 months</td>
                </tr>
                <tr>
                    <td>Int'l Stocks</td>
                    <td class="negative">-33%</td>
                    <td>8 months</td>
                </tr>
                <tr>
                    <td>Bonds</td>
                    <td class="negative">-8%</td>
                    <td>2 months</td>
                </tr>
                <tr>
                    <td>Real Estate</td>
                    <td class="negative">-40%</td>
                    <td>12 months</td>
                </tr>
                <tr>
                    <td>Cash</td>
                    <td class="positive">0%</td>
                    <td>N/A</td>
                </tr>
            </tbody>
        </table>

        <div class="portfolio-input">
            <label>Your Portfolio Allocation:</label>
            <div class="input-grid">
                <div class="input-item">
                    <input type="number" id="crisis2-stocks" value="50" min="0" max="100">
                    <small>US Stocks %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis2-intl" value="15" min="0" max="100">
                    <small>Int'l %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis2-bonds" value="20" min="0" max="100">
                    <small>Bonds %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis2-real" value="10" min="0" max="100">
                    <small>Real Estate %</small>
                </div>
                <div class="input-item">
                    <input type="number" id="crisis2-cash" value="5" min="0" max="100">
                    <small>Cash %</small>
                </div>
            </div>
        </div>

        <button class="btn" onclick="calculateCrisis(2)">Calculate Portfolio Impact</button>

        <div class="result-box">
            <div>Your Portfolio Loss:</div>
            <div class="result-value loss" id="result2">-___%</div>
            <div>on $100,000 = <strong id="dollar2">$___</strong></div>
        </div>

        <div class="analysis-box">
            <label>What lessons does the fast recovery teach about panic selling?</label>
            <textarea placeholder="Consider what happened to those who sold at the bottom vs. held..."></textarea>
        </div>
    </div>

    <!-- 1970s Stagflation -->
    <div class="scenario-section">
        <div class="scenario-header">
            <span class="scenario-title">1970s Stagflation</span>
            <span class="scenario-date">1973 - 1982</span>
        </div>

        <div class="scenario-description">
            <strong>What happened:</strong> Oil crisis, high inflation (14%+), and slow growth created "stagflation." Stocks lost 50% of real purchasing power over the decade. Bonds suffered from rising rates.
        </div>

        <table class="impact-table">
            <thead>
                <tr>
                    <th>Asset Class</th>
                    <th>Real Return (10 years)</th>
                    <th>Key Lesson</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>US Stocks</td>
                    <td class="negative">-45% real</td>
                    <td>Inflation erodes gains</td>
                </tr>
                <tr>
                    <td>Bonds</td>
                    <td class="negative">-40% real</td>
                    <td>Rising rates hurt bonds</td>
                </tr>
                <tr>
                    <td>Real Estate</td>
                    <td class="positive">+80% real</td>
                    <td>Hard assets protect</td>
                </tr>
                <tr>
                    <td>Cash</td>
                    <td class="negative">-30% real</td>
                    <td>Inflation destroys cash</td>
                </tr>
            </tbody>
        </table>

        <div class="analysis-box">
            <label>What does this scenario teach about diversification across asset types?</label>
            <textarea placeholder="Consider how different assets perform during different types of crises..."></textarea>
        </div>
    </div>

    <script>
        function calculateCrisis(crisisNum) {
            const impacts = {
                1: { stocks: -0.57, intl: -0.62, bonds: 0.05, real: -0.68, cash: 0.02 },
                2: { stocks: -0.34, intl: -0.33, bonds: -0.08, real: -0.40, cash: 0 }
            };

            const stocks = parseInt(document.getElementById(`crisis${crisisNum}-stocks`).value) || 0;
            const intl = parseInt(document.getElementById(`crisis${crisisNum}-intl`).value) || 0;
            const bonds = parseInt(document.getElementById(`crisis${crisisNum}-bonds`).value) || 0;
            const real = parseInt(document.getElementById(`crisis${crisisNum}-real`).value) || 0;
            const cash = parseInt(document.getElementById(`crisis${crisisNum}-cash`).value) || 0;

            const impact = impacts[crisisNum];
            const totalLoss = (stocks * impact.stocks + intl * impact.intl + bonds * impact.bonds + real * impact.real + cash * impact.cash) / 100;

            const percentLoss = (totalLoss * 100).toFixed(1);
            const dollarLoss = (100000 * totalLoss).toFixed(0);

            document.getElementById(`result${crisisNum}`).textContent = `${percentLoss}%`;
            document.getElementById(`dollar${crisisNum}`).textContent = `$${(100000 + parseInt(dollarLoss)).toLocaleString()}`;
        }
    </script>
</body>
</html>
