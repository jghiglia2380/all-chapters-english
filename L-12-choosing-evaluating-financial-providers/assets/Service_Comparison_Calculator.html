<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Financial Service Comparison Calculator | PFL Academy</title>
<style>
:root {
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --secondary: #8b5cf6;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-size: 14px;
    line-height: 1.6;
    color: #1f2937;
    background: #f9fafb;
    padding: 20px;
}

.container {
    max-width: 1100px;
    margin: 0 auto;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

header {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    text-align: center;
    padding: 25px 20px;
}

header h1 {
    font-size: 1.8rem;
    margin-bottom: 8px;
}

.subtitle {
    opacity: 0.9;
    font-size: 1rem;
}

.content {
    padding: 25px;
}

.print-btn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    margin-bottom: 20px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.print-btn:hover {
    background: var(--primary-dark);
}

.section {
    margin-bottom: 25px;
}

.section-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 2px solid #e5e7eb;
}

/* Account Input Cards */
.accounts-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-bottom: 25px;
}

.account-card {
    background: #f9fafb;
    border-radius: 8px;
    padding: 20px;
    border: 2px solid #e5e7eb;
}

.account-card h3 {
    color: var(--primary);
    font-size: 1rem;
    margin-bottom: 15px;
    text-align: center;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--primary);
}

.input-group {
    margin-bottom: 12px;
}

.input-group label {
    display: block;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 5px;
    color: #374151;
}

.input-group input {
    width: 100%;
    padding: 8px 10px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 0.85rem;
}

.input-group input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.input-group small {
    display: block;
    color: #6b7280;
    font-size: 0.75rem;
    margin-top: 3px;
}

/* Calculate Button */
.calculate-btn {
    background: var(--success);
    color: white;
    border: none;
    padding: 14px 28px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    display: block;
    margin: 0 auto 25px;
}

.calculate-btn:hover {
    background: #059669;
}

/* Results Section */
.results-container {
    background: #f0f9ff;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 25px;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 20px;
}

.result-card {
    background: white;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    border: 2px solid #e5e7eb;
}

.result-card.winner {
    border-color: var(--success);
    background: #ecfdf5;
}

.result-card h4 {
    color: var(--primary);
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.result-value {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 5px;
}

.result-value.positive {
    color: var(--success);
}

.result-value.negative {
    color: var(--danger);
}

.result-label {
    font-size: 0.8rem;
    color: #6b7280;
}

/* Summary Table */
.summary-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}

.summary-table th,
.summary-table td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #e5e7eb;
}

.summary-table th {
    background: var(--primary);
    color: white;
    font-weight: 600;
}

.summary-table tr:hover {
    background: #f9fafb;
}

.summary-table .winner-row {
    background: #ecfdf5;
    font-weight: 600;
}

/* Breakdown Details */
.breakdown-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
}

.breakdown-card {
    background: white;
    border-radius: 8px;
    padding: 15px;
    border: 1px solid #e5e7eb;
}

.breakdown-card h4 {
    color: var(--primary);
    font-size: 0.9rem;
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px solid #e5e7eb;
}

.breakdown-item {
    display: flex;
    justify-content: space-between;
    padding: 5px 0;
    font-size: 0.8rem;
}

.breakdown-item.total {
    font-weight: 700;
    border-top: 2px solid var(--primary);
    margin-top: 8px;
    padding-top: 8px;
}

/* Recommendation Box */
.recommendation-box {
    background: linear-gradient(135deg, #ecfdf5, #d1fae5);
    border: 2px solid var(--success);
    border-radius: 8px;
    padding: 20px;
}

.recommendation-box h3 {
    color: #065f46;
    margin-bottom: 10px;
    font-size: 1.1rem;
}

#recommendation-text {
    font-size: 0.95rem;
    line-height: 1.7;
}

@media print {
    body {
        padding: 0;
        background: white;
    }

    .container {
        box-shadow: none;
    }

    .print-btn,
    .calculate-btn {
        display: none;
    }

    header {
        background: var(--primary) !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
}

@media (max-width: 768px) {
    .accounts-grid,
    .results-grid,
    .breakdown-grid {
        grid-template-columns: 1fr;
    }
}
</style>
</head>
<body>
<div class="container">
    <header>
        <h1>Financial Service Comparison Calculator</h1>
        <p class="subtitle">Compare Costs and Benefits Across Different Account Types</p>
    </header>

    <div class="content">
        <button class="print-btn" onclick="window.print()">
            <span>Print / Save PDF</span>
        </button>

        <!-- Input Section -->
        <div class="section">
            <h2 class="section-title">Enter Account Details</h2>
            <div class="accounts-grid">
                <!-- Account 1 -->
                <div class="account-card">
                    <h3>Account 1</h3>
                    <div class="input-group">
                        <label for="name1">Provider Name</label>
                        <input type="text" id="name1" placeholder="e.g., Big Bank Checking">
                    </div>
                    <div class="input-group">
                        <label for="balance1">Average Balance ($)</label>
                        <input type="number" id="balance1" value="2000" min="0">
                    </div>
                    <div class="input-group">
                        <label for="apy1">Interest Rate (APY %)</label>
                        <input type="number" id="apy1" value="0.01" min="0" step="0.01">
                    </div>
                    <div class="input-group">
                        <label for="monthly1">Monthly Fee ($)</label>
                        <input type="number" id="monthly1" value="12" min="0">
                    </div>
                    <div class="input-group">
                        <label for="atm1">ATM Fees/Month ($)</label>
                        <input type="number" id="atm1" value="6" min="0">
                        <small>Based on typical usage</small>
                    </div>
                    <div class="input-group">
                        <label for="overdraft1">Expected Overdrafts/Year</label>
                        <input type="number" id="overdraft1" value="2" min="0">
                    </div>
                    <div class="input-group">
                        <label for="overdraftfee1">Overdraft Fee ($)</label>
                        <input type="number" id="overdraftfee1" value="35" min="0">
                    </div>
                </div>

                <!-- Account 2 -->
                <div class="account-card">
                    <h3>Account 2</h3>
                    <div class="input-group">
                        <label for="name2">Provider Name</label>
                        <input type="text" id="name2" placeholder="e.g., Credit Union Checking">
                    </div>
                    <div class="input-group">
                        <label for="balance2">Average Balance ($)</label>
                        <input type="number" id="balance2" value="2000" min="0">
                    </div>
                    <div class="input-group">
                        <label for="apy2">Interest Rate (APY %)</label>
                        <input type="number" id="apy2" value="0.10" min="0" step="0.01">
                    </div>
                    <div class="input-group">
                        <label for="monthly2">Monthly Fee ($)</label>
                        <input type="number" id="monthly2" value="0" min="0">
                    </div>
                    <div class="input-group">
                        <label for="atm2">ATM Fees/Month ($)</label>
                        <input type="number" id="atm2" value="3" min="0">
                        <small>Based on typical usage</small>
                    </div>
                    <div class="input-group">
                        <label for="overdraft2">Expected Overdrafts/Year</label>
                        <input type="number" id="overdraft2" value="2" min="0">
                    </div>
                    <div class="input-group">
                        <label for="overdraftfee2">Overdraft Fee ($)</label>
                        <input type="number" id="overdraftfee2" value="25" min="0">
                    </div>
                </div>

                <!-- Account 3 -->
                <div class="account-card">
                    <h3>Account 3</h3>
                    <div class="input-group">
                        <label for="name3">Provider Name</label>
                        <input type="text" id="name3" placeholder="e.g., Online Bank Savings">
                    </div>
                    <div class="input-group">
                        <label for="balance3">Average Balance ($)</label>
                        <input type="number" id="balance3" value="2000" min="0">
                    </div>
                    <div class="input-group">
                        <label for="apy3">Interest Rate (APY %)</label>
                        <input type="number" id="apy3" value="4.50" min="0" step="0.01">
                    </div>
                    <div class="input-group">
                        <label for="monthly3">Monthly Fee ($)</label>
                        <input type="number" id="monthly3" value="0" min="0">
                    </div>
                    <div class="input-group">
                        <label for="atm3">ATM Fees/Month ($)</label>
                        <input type="number" id="atm3" value="0" min="0">
                        <small>Based on typical usage</small>
                    </div>
                    <div class="input-group">
                        <label for="overdraft3">Expected Overdrafts/Year</label>
                        <input type="number" id="overdraft3" value="2" min="0">
                    </div>
                    <div class="input-group">
                        <label for="overdraftfee3">Overdraft Fee ($)</label>
                        <input type="number" id="overdraftfee3" value="0" min="0">
                    </div>
                </div>
            </div>

            <button class="calculate-btn" onclick="calculateComparison()">Calculate Annual Cost/Benefit</button>
        </div>

        <!-- Results Section -->
        <div class="section" id="results-section" style="display: none;">
            <h2 class="section-title">Annual Comparison Results</h2>

            <div class="results-container">
                <div class="results-grid" id="net-results">
                    <!-- Populated by JavaScript -->
                </div>

                <h3 style="margin-bottom: 15px; color: var(--primary);">Detailed Breakdown</h3>
                <div class="breakdown-grid" id="breakdown-details">
                    <!-- Populated by JavaScript -->
                </div>
            </div>

            <!-- Summary Table -->
            <div class="section">
                <h3 class="section-title">Summary Comparison</h3>
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th id="header1">Account 1</th>
                            <th id="header2">Account 2</th>
                            <th id="header3">Account 3</th>
                        </tr>
                    </thead>
                    <tbody id="summary-body">
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Recommendation -->
            <div class="recommendation-box">
                <h3>Analysis &amp; Recommendation</h3>
                <div id="recommendation-text">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function calculateComparison() {
    // Get all input values for each account
    const accounts = [];

    for (let i = 1; i <= 3; i++) {
        const name = document.getElementById(`name${i}`).value || `Account ${i}`;
        const balance = parseFloat(document.getElementById(`balance${i}`).value) || 0;
        const apy = parseFloat(document.getElementById(`apy${i}`).value) || 0;
        const monthly = parseFloat(document.getElementById(`monthly${i}`).value) || 0;
        const atm = parseFloat(document.getElementById(`atm${i}`).value) || 0;
        const overdrafts = parseFloat(document.getElementById(`overdraft${i}`).value) || 0;
        const overdraftFee = parseFloat(document.getElementById(`overdraftfee${i}`).value) || 0;

        // Calculate annual values
        const annualInterest = balance * (apy / 100);
        const annualMonthlyFees = monthly * 12;
        const annualATMFees = atm * 12;
        const annualOverdraftFees = overdrafts * overdraftFee;
        const totalFees = annualMonthlyFees + annualATMFees + annualOverdraftFees;
        const netBenefit = annualInterest - totalFees;

        accounts.push({
            name,
            balance,
            apy,
            annualInterest,
            annualMonthlyFees,
            annualATMFees,
            annualOverdraftFees,
            totalFees,
            netBenefit
        });
    }

    // Find the best account (highest net benefit)
    const bestIndex = accounts.reduce((best, acc, idx) =>
        acc.netBenefit > accounts[best].netBenefit ? idx : best, 0);

    // Update headers
    for (let i = 1; i <= 3; i++) {
        document.getElementById(`header${i}`).textContent = accounts[i-1].name;
    }

    // Generate net results cards
    let netResultsHTML = '';
    accounts.forEach((acc, idx) => {
        const isWinner = idx === bestIndex;
        const valueClass = acc.netBenefit >= 0 ? 'positive' : 'negative';
        netResultsHTML += `
            <div class="result-card ${isWinner ? 'winner' : ''}">
                <h4>${acc.name}</h4>
                <div class="result-value ${valueClass}">
                    ${acc.netBenefit >= 0 ? '+' : ''}$${acc.netBenefit.toFixed(2)}
                </div>
                <div class="result-label">Net Annual Benefit${isWinner ? ' (Best)' : ''}</div>
            </div>
        `;
    });
    document.getElementById('net-results').innerHTML = netResultsHTML;

    // Generate breakdown details
    let breakdownHTML = '';
    accounts.forEach(acc => {
        breakdownHTML += `
            <div class="breakdown-card">
                <h4>${acc.name}</h4>
                <div class="breakdown-item">
                    <span>Interest Earned</span>
                    <span>+$${acc.annualInterest.toFixed(2)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Monthly Fees</span>
                    <span>-$${acc.annualMonthlyFees.toFixed(2)}</span>
                </div>
                <div class="breakdown-item">
                    <span>ATM Fees</span>
                    <span>-$${acc.annualATMFees.toFixed(2)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Overdraft Fees</span>
                    <span>-$${acc.annualOverdraftFees.toFixed(2)}</span>
                </div>
                <div class="breakdown-item total">
                    <span>Net Benefit</span>
                    <span>${acc.netBenefit >= 0 ? '+' : ''}$${acc.netBenefit.toFixed(2)}</span>
                </div>
            </div>
        `;
    });
    document.getElementById('breakdown-details').innerHTML = breakdownHTML;

    // Generate summary table
    let summaryHTML = `
        <tr>
            <td>Average Balance</td>
            ${accounts.map(a => `<td>$${a.balance.toFixed(2)}</td>`).join('')}
        </tr>
        <tr>
            <td>Interest Rate (APY)</td>
            ${accounts.map(a => `<td>${a.apy.toFixed(2)}%</td>`).join('')}
        </tr>
        <tr>
            <td>Annual Interest Earned</td>
            ${accounts.map(a => `<td>$${a.annualInterest.toFixed(2)}</td>`).join('')}
        </tr>
        <tr>
            <td>Annual Fees</td>
            ${accounts.map(a => `<td>$${a.totalFees.toFixed(2)}</td>`).join('')}
        </tr>
        <tr class="${accounts.map((a, i) => i === bestIndex ? 'winner-row' : '').join(' ')}">
            <td><strong>Net Annual Benefit</strong></td>
            ${accounts.map((a, i) => `<td class="${i === bestIndex ? 'winner-row' : ''}">${a.netBenefit >= 0 ? '+' : ''}$${a.netBenefit.toFixed(2)}</td>`).join('')}
        </tr>
    `;
    document.getElementById('summary-body').innerHTML = summaryHTML;

    // Generate recommendation
    const best = accounts[bestIndex];
    const worst = accounts.reduce((w, acc, idx) =>
        acc.netBenefit < accounts[w].netBenefit ? idx : w, 0);
    const worstAcc = accounts[worst];
    const savings = best.netBenefit - worstAcc.netBenefit;

    let recommendationHTML = `
        <strong>Best Option: ${best.name}</strong><br><br>
        Based on your inputs, <strong>${best.name}</strong> provides the best annual value with a net benefit of
        <strong>${best.netBenefit >= 0 ? '+' : ''}$${best.netBenefit.toFixed(2)}</strong> per year.
    `;

    if (savings > 0) {
        recommendationHTML += `<br><br>
            Choosing ${best.name} over ${worstAcc.name} would save you <strong>$${savings.toFixed(2)}</strong> annually.
            Over 5 years, this difference adds up to <strong>$${(savings * 5).toFixed(2)}</strong>.
        `;
    }

    if (best.apy > 0 && best.totalFees === 0) {
        recommendationHTML += `<br><br>
            <strong>Key Advantage:</strong> ${best.name} offers a strong combination of no fees and a competitive
            ${best.apy.toFixed(2)}% APY, allowing your money to grow without being eroded by charges.
        `;
    } else if (best.totalFees === 0) {
        recommendationHTML += `<br><br>
            <strong>Key Advantage:</strong> ${best.name} has no fees, which is especially valuable for maintaining
            smaller balances where fees can significantly impact your effective return.
        `;
    }

    recommendationHTML += `<br><br>
        <strong>Note:</strong> This analysis focuses on quantifiable costs and benefits. Also consider qualitative
        factors like branch access, customer service quality, and additional features when making your final decision.
    `;

    document.getElementById('recommendation-text').innerHTML = recommendationHTML;

    // Show results section
    document.getElementById('results-section').style.display = 'block';
    document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
}
</script>
</body>
</html>
